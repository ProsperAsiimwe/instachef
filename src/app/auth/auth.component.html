<div class="row">
  <div class="col-xs-12 col-md-6 col-md-offset-3">

    <div class="alert alert-danger" *ngIf="error">
      <p>{{error}}</p>
    </div>

    <div *ngIf="isLoading" style="text-align:center;">
      <app-spinner></app-spinner>
    </div>

    <form #authForm="ngForm" (ngSubmit)="onAuthFormSubmit(authForm)" *ngIf="!isLoading">
      <!-- Username input -->
      <div class="form-group" *ngIf="!isLoginMode">
        <div class="form-outline mb-4">
          <label class="form-label" for="username">User name</label>
          <input
            type="text"
            id="username"
            class="form-control"
            ngModel
            name="username"
            required
            #nameRef="ngModel"/>
        </div>

        <span class="help-block" *ngIf="!nameRef.valid && nameRef.touched">Username is required!</span>
      </div>


      <!-- Email input -->
      <div class="form-group">
        <div class="form-outline mb-4">
          <label class="form-label" for="email">Email address</label>
          <input
            type="email"
            id="email"
            class="form-control"
            ngModel
            name="email"
            required
            email
            #emailRef="ngModel"/>
        </div>

        <span class="help-block" *ngIf="!emailRef.valid && emailRef.touched">The email is required!</span>
      </div>

        <!-- Pnone number input -->
        <div class="form-group" *ngIf="!isLoginMode">
          <div class="form-outline mb-4">
            <label class="form-label" for="username">Phone number</label>
            <input
              type="tel"
              id="phone"
              class="form-control"
              ngModel
              name="phone"
              required
              #phoneRef="ngModel"/>
          </div>

          <span class="help-block" *ngIf="!phoneRef.valid && phoneRef.touched">The phone is required with the country code format eg. +256.....!</span>
        </div>


      <!-- Password input -->
      <div class="form-group">
        <div class="form-outline mb-4">
          <label class="form-label" for="password">Password</label>
          <input
           type="password"
           id="password"
           class="form-control"
           ngModel
           name="password"
           required
           minlength="6"
           #passwordRef="ngModel" />
        </div>

        <span class="help-block" *ngIf="!passwordRef.valid && passwordRef.touched">The password is required with a minimum length of 6 characters!</span>
      </div>


      <!--Retype Password input -->
      <div class="form-group" *ngIf="!isLoginMode">
        <div class="form-outline mb-4">
          <label class="form-label" for="password">Retype password</label>
          <input
           type="password"
           id="retypePassword"
           class="form-control"
           ngModel
           name="retypePassword"
           required
           minlength="6"
           #retypePasswordRef="ngModel" />
        </div>

        <span class="help-block" *ngIf="!retypePasswordRef.valid && retypePasswordRef.touched">The password is required with a minimum length of 6 characters!</span>
      </div>



      <!-- Submit button -->
      <button type="submit" class="btn btn-primary btn-block mb-4" [disabled]="!authForm.valid">{{isLoginMode ? 'Login' : 'Register'}}</button>

      <hr>

      <!-- Register buttons -->
      <div class="text-center">
        <p><a (click)="onSwitchMode()" style="cursor:pointer;">{{isLoginMode ? 'Not a member ? Sign Up' : 'Already a member ? Login'}}</a></p>
      </div>
    </form>
  </div>
</div>
